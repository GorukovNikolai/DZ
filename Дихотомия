#include <cmath>
#include <iostream>

using namespace std;

// Функция для вычисления значения целевой функции
// Возвращает результат расчета функции
// Функция (x^4)/4 - 2*x^2
double function(double x) {
    return (pow(x, 4) / 4) - 2 * pow(x, 2);
}



// Метод дихотомии для поиска минимума функции
void dichotomy(float a, float b, float e) {
    int iter = 0; // Счетчик числа итераций

    while (true) {
        iter++;
        float en = (b - a) / 2; // Половина текущего отрезка
        if (en <= e) { // Критерий завершения алгоритма
            cout << "\n----------------\n Число итераций: " << iter << "\nx = " << (a + b) / 2 << " f(x) = " << function((a + b) / 2) << endl;
            break;
        }

        float x1 = (a + b - e) / 2;
        float x2 = (a + b + e) / 2;

        // Вывод текущего состояния интервала и вычисленных точек
        cout << "Итерация |" << iter << "| a = " << a << " | b = " << b << " | x1 = " << x1
            << " | x2 = " << x2 << " | f(x1) = " << function(x1) << " | f(x2) = " << function(x2) << endl;

        // Уточнение границ интервала
        if (function(x1) <= function(x2)) {
            b = x2; // Сужаем интервал к [a, x2]
        }
        else {
            a = x1; // Сужаем интервал к [x1, b]
        }
    }
}

int main() {
    setlocale(LC_ALL, "RU"); // Устанавливаем русскую локализацию
    double a, b; // Интервал поиска минимума (в случае нашей задачи: [1; 12])
    double e; // Точность (в нашей задаче: 0.06)
    // Ввод границ и точности с клавиатуры
    cout << "Введите левую границу: ";
    cin >> a;
    cout << "Введите правую границу: ";
    cin >> b;
    cout << "Введите точность: ";
    cin >> e;
    cout << endl;
    dichotomy(a, b, e);
}
